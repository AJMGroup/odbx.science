FROM python:3.7

WORKDIR /app

# copy repo contents and install deps
COPY requirements.txt ./
COPY odbx ./odbx
RUN pip install -r requirements.txt

ENV PYTHONPATH "/app/"

# copy configs and startup scripts
COPY server.cfg optimade_config.ini README.md ./
COPY scripts/start_production.sh ./run.sh


# run web server
CMD ["/app/run.sh"]
